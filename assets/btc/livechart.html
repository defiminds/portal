<html><head>
	<title>Real-time Bitcoin Chart</title>
	<script src="https://code.highcharts.com/stock/highstock.js"></script>
	<script src="https://code.highcharts.com/highcharts.js"></script>
	<script src="https://code.highcharts.com/modules/exporting.js"></script>
	<script src="https://code.highcharts.com/modules/export-data.js"></script>
	<script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <button id="toggle-button">Connect Server</button>
    <button onclick="toggleDarkMode()">Light</button>



<style>
	body {
		background-color: #1e1e1e;
		color: #f1f1f1;
	}

	button, input {
		background-color: #444;
		color: #f1f1f1;
		border: none;
		padding: 10px;
		border-radius: 5px;
		cursor: pointer;
		font-size: 16px;
		font-weight: bold;
		margin: 5px;
	}

	#toggle-button {
		background-color: #3d3d3d;
	}

	#chart-container {
		margin-top: 20px;
	}

	.highcharts-range-selector-buttons button {
		background-color: #444;
		color: #f1f1f1;
		border: none;
		padding: 5px;
		border-radius: 5px;
		cursor: pointer;
		font-size: 12px;
		font-weight: bold;
		margin: 2px;
	}

	.highcharts-range-selector-buttons button:hover {
		background-color: #666;
	}

	.highcharts-range-selector-buttons .highcharts-button:focus {
		outline: none;
	}

	.highcharts-input-group {
		display: none;
	}

	.dark-mode {
		background-color: #f1f1f1;
		color: #1e1e1e;
	}

	.dark-mode button, .dark-mode input {
		background-color: #f1f1f1;
		color: #1e1e1e;
	}
</style>

<script>
	function toggleDarkMode() {
		const body = document.querySelector('body');
		body.classList.toggle('dark-mode');
	}
</script>



	<div id="chart-container" data-highcharts-chart="0" style="overflow: hidden;" aria-hidden="false" role="region" aria-label="Real-time Bitcoin Chart. Highcharts interactive chart."><div id="highcharts-screen-reader-region-before-0" style="position: relative;" aria-hidden="false"><div style="position: absolute; width: 1px; height: 1px; overflow: hidden; white-space: nowrap; clip: rect(1px, 1px, 1px, 1px); margin-top: -3px; opacity: 0.01;" aria-hidden="false"><p>Real-time Bitcoin Chart</p><div>Combination chart with 2 data series.</div><div><button id="hc-linkto-highcharts-data-table-0" tabindex="-1" aria-expanded="false">View as data table, Real-time Bitcoin Chart</button></div><div>The chart has 2 X axes displaying Time and navigator-x-axis.</div><div>The chart has 2 Y axes displaying Price and navigator-y-axis.</div></div></div><div aria-hidden="false" class="highcharts-announcer-container" style="position: relative;"><div aria-hidden="false" aria-live="polite" style="position: absolute; width: 1px; height: 1px; overflow: hidden; white-space: nowrap; clip: rect(1px, 1px, 1px, 1px); margin-top: -3px; opacity: 0.01;"></div><div aria-hidden="false" aria-live="assertive" style="position: absolute; width: 1px; height: 1px; overflow: hidden; white-space: nowrap; clip: rect(1px, 1px, 1px, 1px); margin-top: -3px; opacity: 0.01;"></div><div aria-hidden="false" aria-live="polite" style="position: absolute; width: 1px; height: 1px; overflow: hidden; white-space: nowrap; clip: rect(1px, 1px, 1px, 1px); margin-top: -3px; opacity: 0.01;"></div></div><div style="position: relative; height: 0px; z-index: 1;" aria-hidden="false"><select style="position: absolute; width: 1px; height: 1px; padding: 0px; border: 0px none; top: -9999em; cursor: pointer; opacity: 0.0001; margin-top: 34px;" aria-hidden="true" aria-label="Zoom" tabindex="-1"><option disabled="">Zoom</option><option>6h</option><option>All</option></select><input name="min" class="highcharts-range-selector" type="date" style="position: absolute; border: 0px none; box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 15px; width: 1px; height: 1px; padding: 0px; text-align: center; font-size: 12px; font-family: &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif; top: -9999em; color: rgb(51, 92, 173); cursor: pointer; margin-top: 34px;" aria-hidden="false" tabindex="-1" aria-label="Select start date."><input name="max" class="highcharts-range-selector" type="date" style="position: absolute; border: 0px none; box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 15px; width: 1px; height: 1px; padding: 0px; text-align: center; font-size: 12px; font-family: &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif; top: -9999em; color: rgb(51, 92, 173); cursor: pointer; margin-top: 34px;" aria-hidden="false" tabindex="-1" aria-label="Select end date."></div><div id="highcharts-fp72xa8-0" style="position: relative; overflow: hidden; width: 1184px; height: 400px; text-align: left; line-height: normal; z-index: 0; user-select: none; touch-action: manipulation; outline: none; left: 0px; top: 0px;" dir="ltr" class="highcharts-container " aria-hidden="false" tabindex="0"><div aria-hidden="false" class="highcharts-a11y-proxy-container-before" style="top: 0px; left: 0px; white-space: nowrap; position: absolute;"></div><svg version="1.1" class="highcharts-root" style="font-family: &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif; font-size: 12px;" xmlns="http://www.w3.org/2000/svg" width="1184" height="400" viewBox="0 0 1184 400" aria-hidden="false" aria-label="Interactive chart"><desc aria-hidden="true">Created with Highcharts 10.3.3</desc><defs aria-hidden="true"><clipPath id="highcharts-fp72xa8-1-"><rect x="0" y="0" width="1140" height="227" fill="none"></rect></clipPath><clipPath id="highcharts-fp72xa8-2-"><rect x="0" y="0" width="1140" height="227" fill="none"></rect></clipPath><clipPath id="highcharts-fp72xa8-8-"><rect x="0" y="0" width="1112" height="40" fill="none"></rect></clipPath></defs><rect fill="#ffffff" class="highcharts-background" x="0" y="0" width="1184" height="400" rx="0" ry="0" aria-hidden="true"></rect><rect fill="none" class="highcharts-plot-background" x="10" y="79" width="1140" height="227" aria-hidden="true"></rect><g class="highcharts-grid highcharts-xaxis-grid" data-z-index="1" aria-hidden="true"></g><g class="highcharts-grid highcharts-xaxis-grid highcharts-navigator-xaxis" data-z-index="1" aria-hidden="true"></g><g class="highcharts-grid highcharts-yaxis-grid" data-z-index="1" aria-hidden="true"></g><g class="highcharts-grid highcharts-yaxis-grid highcharts-navigator-yaxis" data-z-index="1" aria-hidden="true"></g><rect fill="none" class="highcharts-plot-border" data-z-index="1" stroke="#cccccc" stroke-width="0" x="10" y="79" width="1140" height="227" aria-hidden="true"></rect><g class="highcharts-axis highcharts-xaxis" data-z-index="2" aria-hidden="true"><path fill="none" class="highcharts-axis-line" stroke="#ccd6eb" stroke-width="1" data-z-index="7" d="M 10 306.5 L 1150 306.5"></path></g><g class="highcharts-axis highcharts-xaxis highcharts-navigator-xaxis" data-z-index="2" aria-hidden="true"><path fill="none" class="highcharts-axis-line" stroke="#ccd6eb" stroke-width="0" data-z-index="7" d="M 24 371 L 1136 371"></path></g><g class="highcharts-axis highcharts-yaxis" data-z-index="2" aria-hidden="true"><text x="1160" data-z-index="7" text-anchor="middle" transform="translate(0,0) rotate(90 1160 192.5)" class="highcharts-axis-title" style="color: rgb(102, 102, 102); fill: rgb(102, 102, 102);" y="192.5">Price</text><path fill="none" class="highcharts-axis-line" stroke="#ccd6eb" stroke-width="0" data-z-index="7" d="M 1150 79 L 1150 306"></path></g><g class="highcharts-axis highcharts-yaxis highcharts-navigator-yaxis" data-z-index="2" aria-hidden="true"><path fill="none" class="highcharts-axis-line" stroke="#ccd6eb" stroke-width="0" data-z-index="7" d="M 10 331 L 10 371"></path></g><g class="highcharts-scrollbar" data-z-index="3" visibility="hidden" aria-hidden="true"><rect fill="#f2f2f2" class="highcharts-scrollbar-track" x="0" rx="0" ry="0" height="14" width="14" stroke="#f2f2f2" stroke-width="1" y="-0.5"></rect><g transform="translate(-0.5,-0.5)"><rect fill="#cccccc" class="highcharts-scrollbar-thumb" height="14" width="14" rx="0" ry="0" stroke="#cccccc" stroke-width="1"></rect><path fill="none" d="M -3 3.5 L -3 9.333333333333334 M 0 3.5 L 0 9.333333333333334 M 3 3.5 L 3 9.333333333333334" class="highcharts-scrollbar-rifles" stroke="#333333" stroke-width="1"></path></g><g><rect fill="#e6e6e6" class="highcharts-scrollbar-button" stroke="#cccccc" stroke-width="1" x="-0.5" y="-0.5" width="14" height="14" rx="0" ry="0"></rect><path fill="#333333" d="M 8 4 L 8 10 L 5 7" class="highcharts-scrollbar-arrow"></path></g><g><rect fill="#e6e6e6" class="highcharts-scrollbar-button" stroke="#cccccc" stroke-width="1" x="-0.5" y="-0.5" width="14" height="14" rx="0" ry="0"></rect><path fill="#333333" d="M 6 4 L 6 10 L 9 7" class="highcharts-scrollbar-arrow"></path></g></g><g class="highcharts-series-group" data-z-index="3" aria-hidden="false"><g class="highcharts-series highcharts-series-0 highcharts-line-series highcharts-color-0" data-z-index="0.1" opacity="1" transform="translate(10,79) scale(1 1)" clip-path="url(#highcharts-fp72xa8-2-)" aria-hidden="false" role="region" tabindex="-1" style="outline: none;" aria-label="Bitcoin, series 1 of 2. Line with 0 data points. Y axis, Price. X axis, Time."></g><g class="highcharts-markers highcharts-series-0 highcharts-line-series highcharts-color-0" data-z-index="0.1" opacity="1" transform="translate(10,79) scale(1 1)" clip-path="none" aria-hidden="true"></g><g class="highcharts-series highcharts-series-1 highcharts-areaspline-series highcharts-navigator-series" data-z-index="0.1" opacity="1" transform="translate(24,331) scale(1 1)" clip-path="url(#highcharts-fp72xa8-8-)" aria-hidden="false" role="region" tabindex="-1" style="outline: none;" aria-label="Navigator 1, series 2 of 2 with 0 data points. Y axis, navigator-y-axis. X axis, navigator-x-axis."><path fill="rgba(124,181,236,0.05)" d="M 0 0" class="highcharts-area" data-z-index="0"></path></g><g class="highcharts-markers highcharts-series-1 highcharts-areaspline-series highcharts-navigator-series" data-z-index="0.1" opacity="1" transform="translate(24,331) scale(1 1)" clip-path="none" aria-hidden="true"></g></g><g class="highcharts-exporting-group" data-z-index="3" aria-hidden="true"><g class="highcharts-no-tooltip highcharts-button highcharts-contextbutton" stroke-linecap="round" style="cursor: pointer;" transform="translate(1150,10)"><title>Chart context menu</title><rect fill="#ffffff" class="highcharts-button-box" x="0.5" y="0.5" width="24" height="22" rx="2" ry="2" stroke="none" stroke-width="1"></rect><path fill="#666666" d="M 6 6.5 L 20 6.5 M 6 11.5 L 20 11.5 M 6 16.5 L 20 16.5" class="highcharts-button-symbol" data-z-index="1" stroke="#666666" stroke-width="3"></path><text x="0" data-z-index="1" y="15.5" style="color: rgb(51, 51, 51); font-weight: normal; fill: rgb(51, 51, 51);"></text></g></g><text x="592" text-anchor="middle" class="highcharts-title" data-z-index="4" style="color: rgb(51, 51, 51); font-size: 16px; fill: rgb(51, 51, 51);" y="22" aria-hidden="true">Real-time Bitcoin Chart</text><text x="592" text-anchor="middle" class="highcharts-subtitle" data-z-index="4" style="color: rgb(102, 102, 102); fill: rgb(102, 102, 102);" y="43" aria-hidden="true"></text><text x="10" text-anchor="start" class="highcharts-caption" data-z-index="4" style="color: rgb(102, 102, 102); fill: rgb(102, 102, 102);" y="397" aria-hidden="true"></text><g class="highcharts-data-labels highcharts-series-1 highcharts-areaspline-series highcharts-navigator-series" data-z-index="6" opacity="1" transform="translate(24,331) scale(1 1)" aria-hidden="true"></g><g class="highcharts-axis-labels highcharts-xaxis-labels" data-z-index="7" aria-hidden="true"></g><g class="highcharts-axis-labels highcharts-xaxis-labels highcharts-navigator-xaxis" data-z-index="7" aria-hidden="true"></g><g class="highcharts-axis-labels highcharts-yaxis-labels" data-z-index="7" aria-hidden="true"></g><g class="highcharts-axis-labels highcharts-yaxis-labels highcharts-navigator-yaxis" data-z-index="7" aria-hidden="true"></g><g class="highcharts-range-selector-group" data-z-index="7" transform="translate(0,34)" aria-hidden="false"><g class="highcharts-range-selector-buttons" transform="translate(0,10)" aria-hidden="false"><g class="highcharts-label" transform="translate(10,0)" aria-hidden="true"><text x="0" data-z-index="1" y="15.5" style="color: rgb(102, 102, 102); fill: rgb(102, 102, 102);">Zoom</text></g><g class="highcharts-no-tooltip highcharts-button highcharts-button-normal" data-z-index="7" style="cursor: pointer;" transform="translate(46,0)" aria-hidden="false" tabindex="-1" role="button"><rect fill="#f7f7f7" class="highcharts-button-box" x="0" y="0" width="32" height="22" rx="2" ry="2" stroke-width="0" stroke="#cccccc"></rect><text x="9.333333492279053" data-z-index="1" y="15.5" style="color: rgb(51, 51, 51); font-weight: normal; fill: rgb(51, 51, 51);">6h</text></g><g class="highcharts-no-tooltip highcharts-button highcharts-button-normal" data-z-index="7" style="cursor: pointer;" transform="translate(83,0)" aria-hidden="false" tabindex="-1" role="button"><rect fill="#f7f7f7" class="highcharts-button-box" x="0" y="0" width="32" height="22" rx="2" ry="2" stroke-width="0" stroke="#cccccc"></rect><text x="9.333333492279053" data-z-index="1" y="15.5" style="color: rgb(51, 51, 51); font-weight: normal; fill: rgb(51, 51, 51);">All</text></g></g><g class="highcharts-input-group" transform="translate(1148,10)" aria-hidden="true"><g class="highcharts-label highcharts-range-label" transform="translate(0,0)"><text x="0" data-z-index="1" y="12" style="color: rgb(102, 102, 102); font-family: &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif; font-size: 12px; fill: rgb(102, 102, 102);"></text></g><g class="highcharts-label highcharts-range-input" transform="translate(0,0)" style="cursor: pointer;"><rect fill="none" class="highcharts-label-box" x="0.5" y="0.5" width="4" height="21" stroke="none" stroke-width="1"></rect><text x="2" data-z-index="1" y="15" style="color: rgb(51, 92, 173); font-family: &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif; font-size: 12px; fill: rgb(51, 92, 173);"></text></g><g class="highcharts-label highcharts-range-label" transform="translate(9,0)"><text x="2" data-z-index="1" y="15" style="color: rgb(102, 102, 102); font-family: &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif; font-size: 12px; fill: rgb(102, 102, 102);">→</text></g><g class="highcharts-label highcharts-range-input" transform="translate(18,0)" style="cursor: pointer;"><rect fill="none" class="highcharts-label-box" x="0.5" y="0.5" width="4" height="21" stroke="none" stroke-width="1"></rect><text x="2" data-z-index="1" y="15" style="color: rgb(51, 92, 173); font-family: &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif; font-size: 12px; fill: rgb(51, 92, 173);"></text></g></g></g><g class="highcharts-navigator" data-z-index="8" visibility="hidden" aria-hidden="true"><rect fill="rgba(0,0,0,0)" class="highcharts-navigator-mask-outside"></rect><rect fill="rgba(102,133,194,0.3)" class="highcharts-navigator-mask-inside" style="cursor: ew-resize;"></rect><rect fill="rgba(0,0,0,0)" class="highcharts-navigator-mask-outside"></rect><path fill="none" class="highcharts-navigator-outline" stroke-width="1" stroke="#cccccc"></path><path fill="#f2f2f2" d="M -4.5 0.5 L 3.5 0.5 L 3.5 15.5 L -4.5 15.5 L -4.5 0.5 M -1.5 4 L -1.5 12 M 0.5 4 L 0.5 12" data-z-index="6" class="highcharts-navigator-handle highcharts-navigator-handle-right" stroke="#999999" stroke-width="1" style="cursor: ew-resize;"></path><path fill="#f2f2f2" d="M -4.5 0.5 L 3.5 0.5 L 3.5 15.5 L -4.5 15.5 L -4.5 0.5 M -1.5 4 L -1.5 12 M 0.5 4 L 0.5 12" data-z-index="7" class="highcharts-navigator-handle highcharts-navigator-handle-left" stroke="#999999" stroke-width="1" style="cursor: ew-resize;"></path></g><text x="1174" class="highcharts-credits" text-anchor="end" data-z-index="8" style="cursor: pointer; color: rgb(153, 153, 153); font-size: 9px; fill: rgb(153, 153, 153);" y="395" aria-label="Chart credits: Highcharts.com" aria-hidden="false">Highcharts.com</text></svg><div aria-hidden="false" class="highcharts-a11y-proxy-container-after" style="top: 0px; left: 0px; white-space: nowrap; position: absolute;"><div class="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-zoom"></div><div class="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-chartMenu"><button style="border-width: 0px; background-color: transparent; cursor: pointer; outline: none; opacity: 0.001; z-index: 999; overflow: hidden; padding: 0px; margin: 0px; display: block; position: absolute; width: 26px; height: 22px; left: 1150px; top: 11px;" class="highcharts-a11y-proxy-button highcharts-no-tooltip" aria-label="View chart menu, Real-time Bitcoin Chart" aria-expanded="false" title="Chart context menu"></button></div></div></div><div id="highcharts-screen-reader-region-after-0" style="position: relative;" aria-hidden="false"><div style="position: absolute; width: 1px; height: 1px; overflow: hidden; white-space: nowrap; clip: rect(1px, 1px, 1px, 1px); margin-top: -3px; opacity: 0.01;" aria-hidden="false"><div id="highcharts-end-of-chart-marker-0" class="highcharts-exit-anchor" tabindex="0" aria-hidden="false">End of interactive chart.</div></div></div></div>

	<script>
		Highcharts.setOptions({
			global: {
				timezoneOffset: new Date().getTimezoneOffset()
			}
		});

		var chart = Highcharts.stockChart('chart-container', {
			rangeSelector: {
				buttons: [{
					type: 'hour',
					count: 6,
					text: '6h'
				}, {
					type: 'all',
					text: 'All'
				}],
				selected: 6
			},

			title: {
				text: 'Real-time Bitcoin Chart'
			},

			yAxis: {
				labels: {
					formatter: function () {
						return '$' + this.value;
					}
				},
				title: {
					text: 'Price'
				}
			},

			series: [{
				name: 'Bitcoin',
				data: [],
				tooltip: {
					valueDecimals: 2,
					valuePrefix: '$'
				}
			}]
		});

		var socket;

		function openSocket() {
			socket = new WebSocket('wss://ws-feed.pro.coinbase.com');

			socket.addEventListener('open', function (event) {
				socket.send(JSON.stringify({
					type: 'subscribe',
					product_ids: ['BTC-USD'],
					channels: ['ticker']
				}));
			});

			socket.addEventListener('message', function (event) {
				var data = JSON.parse(event.data);
				if (data.type === 'ticker') {
					chart.series[0].addPoint([Date.now(), parseFloat(data.price)], true, false);
				}
			});
		}

		function closeSocket() {
			socket.close();
		}

		document.getElementById('toggle-button').addEventListener('click', function () {
			if (!socket || socket.readyState === WebSocket.CLOSED) {
				openSocket();
			} else {
				closeSocket();
			}
		});

	</script>




</body></html>
